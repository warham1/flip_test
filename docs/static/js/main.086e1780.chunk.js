(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,n){e.exports=n(64)},53:function(e,t,n){},54:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n.n(a),r=n(31),o=n.n(r),c=n(14),l=n(15),u=n(19),s=n(16),d=n(20),p=n(10),f=n(67),b=n(68),m=n(8),h=n(21),v=n(34),O=n(1),j=n(36),C=new b.a({uri:"http://localhost:4000"}),T=new v.a({uri:"ws://localhost:4000",options:{reconnect:!0}}),w=Object(m.d)(function(e){var t=e.query,n=Object(O.l)(t),a=n.kind,i=n.operation;return"OperationDefinition"===a&&"subscription"===i},T,C),g=new h.a({link:w,cache:new j.a}),k=n(37),E=n(22),y=n(23),I=n.n(y),B=(n(53),function(e){switch(e){case 0:return"Black";case 1:return"Red";case 2:return"Blue";default:return"Black"}}),$=function(e){var t=e.tileIdProp,n=e.tileColorProp,a=e.updateTile;return console.log(t),i.a.createElement("button",{className:"tile",onClick:function(){a(t,n)},style:{background:B(n)}})};n(54);function P(){var e=Object(E.a)(["\n    mutation UpdateTile($tileId: Int!, $tileColor: Int!) {\n        updateTile(tileId: $tileId, tileColor: $tileColor) {\n            val\n        }\n    }\n"]);return P=function(){return e},e}function N(){var e=Object(E.a)(["\n    subscription {\n        onChangeTile {\n            id\n            tileColor\n        }\n    }\n"]);return N=function(){return e},e}function q(){var e=Object(E.a)(["\n    query GetTiles($id: Int){\n        getTiles(id: $id) {\n            id\n            tileColor\n        }\n    }\n"]);return q=function(){return e},e}var D=I()(q()),J=I()(N()),M=I()(P()),R=function(e){switch(e){case 0:return 1;case 1:return 2;case 2:return 1;default:return 0}},W=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).updateTile=function(e,t){n.props.updateTile({variables:{tileId:e,tileColor:R(t)}})},n.genButtons=function(){for(var e=[],t=0;t<n.state.tiles.length;t++)e.push(i.a.createElement($,{tileIdProp:n.state.tiles[t].id,tileColorProp:n.state.tiles[t].tileColor,updateTile:n.updateTile}));return e},n.state={tiles:[]},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.props.data.subscribeToMore({document:J,updateQuery:function(e,t){var n=t.subscriptionData;if(!n.data)return e;n.data.onChangeTile;return Object(k.a)({},e)}})}},{key:"componentWillReceiveProps",value:function(e){this.setState({tiles:e.data.getTiles})}},{key:"render",value:function(){return this.props.data.loading?i.a.createElement("div",{className:"tile-container"},"Loading~~"):i.a.createElement("div",{className:"tile-container"},this.genButtons())}}]),t}(a.Component),x=Object(p.c)(D),G=Object(p.c)(M,{name:"updateTile"}),H=Object(p.b)(x,G)(W),L=(n(61),function(){return i.a.createElement("div",{className:"Head"},"\xa0")}),Q=(n(62),function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(p.a,{client:g},i.a.createElement(f.a,{client:g},i.a.createElement(L,null),i.a.createElement(H,null)))}}]),t}(a.Component));o.a.render(i.a.createElement(Q,null),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.086e1780.chunk.js.map